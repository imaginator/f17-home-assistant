vacuum_whole_house_vacuum:
  alias: 'vacuum: whole house vacuum'
  sequence:
  - service: xiaomi_miio.vacuum_clean_zone
    data:
      zone:
      - - 11749
        - 13339
        - 27949
        - 33539
      repeats: 1
    target:
      entity_id: vacuum.rockrobo_vacuum_v1
  mode: single
  icon: mdi:robot-vacuum
zones2:
  alias: vacuum zones
  sequence:
  - service: vacuum.stop
    data: {}
    target:
      entity_id: vacuum.rockrobo_vacuum_v1
  - service: xiaomi_miio.vacuum_clean_zone
    target:
      entity_id: vacuum.rockrobo_vacuum_v1
    data:
      repeats: 1
      zone: "{{ expand('group.vacuum_zones') | selectattr('state', 'eq', 'on')\n |
        map(attribute='attributes.cleaning_zone') | list }}\n"
  mode: single
